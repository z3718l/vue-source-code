{"version":3,"file":"vue.js","sources":["../../src/observe/index.js","../../src/state.js","../../src/init.js","../../src/index.js"],"sourcesContent":["// 把data中的数据 都使用Object.defineProperty重新定义\n// Object.defineProperty 兼容性不好，不能兼容ie8及以下\nexport function observe(data) {\n    console.log(data, '===observe')\n}","import { observe } from './observe/index.js'\nexport function initState(vm) {\n    const opts = vm.$options;\n    // vue的数据来源，属性 方法 数据 计算属性 watch\n    if (opts.props) {\n        initProps(vm);\n    }\n    if (opts.methods) {\n        initMethods(vm);\n    }\n    if (opts.data) {\n        initData(vm);\n    }\n    if (opts.computed) {\n        initComputed(vm);\n    }\n    if (opts.watch) {\n        initWatch(vm);\n    }\n}\nfunction initProps() {}\nfunction initMethods() {}\nfunction initData(vm) {\n    // 数据初始化工作\n    let data = vm.$options.data; // 用户传递的数据\n    /**\n     * vm._data:为了用户可以方便拿到数据\n     * 如果data是一个函数，就直接执行函数，并且把函数的this指向vm（vue的实例）\n     * 如果不是函数，直接等于data\n     */\n    data = vm._data = typeof data === 'function' ? data.call(vm) : data;\n\n    /**\n     * 对象劫持 用户改变了数据，我们希望可以得到通知 ==》并且刷新页面数据\n     * MVVM模式 数据变化了可以驱动视图变化\n     * Object.defineProperty() 给属性增加get方法和set方法\n     */\n    observe(data); // 响应式原理\n}\nfunction initComputed() {}\nfunction initWatch() {}\n","// 在原型上添加init方法\nimport { initState} from './state.js'\nexport function initMixin(Vue) {\n\t// vue初始化流程\n  Vue.prototype._init = function(options) {\n\t\t// 1、数据的劫持\n\t\tconst vm = this;\n\t\tvm.$options = options;\n\t\tinitState(vm)\n\t}\n}","// 这里就是vue的核心代码\n// 这个文件只是vue的一个声明，不做具体的操作\n// 由于vue的方法比较多，我们会把他们写在原型上，方便调用\nimport { initMixin } from './init.js'\nfunction Vue(options) {\n    // options接收vue实例中的所有方法和配置\n    // 在这里进行vue的初始化操作\n    // console.log(options);\n    this._init(options)\n}\n// 通过引入的方式，给原型上添加方法\ninitMixin(Vue)\nexport default Vue"],"names":["observe","data","console","log","initState","vm","opts","$options","props","methods","initData","computed","watch","_data","call","initMixin","Vue","prototype","_init","options"],"mappings":";;;;;;IAAA;IACA;IACO,SAASA,OAAT,CAAiBC,IAAjB,EAAuB;IAC1BC,EAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ,EAAkB,YAAlB;IACH;;ICHM,SAASG,SAAT,CAAmBC,EAAnB,EAAuB;IAC1B,MAAMC,IAAI,GAAGD,EAAE,CAACE,QAAhB,CAD0B;;IAG1B,MAAID,IAAI,CAACE,KAAT,EAAgB;;IAGhB,MAAIF,IAAI,CAACG,OAAT,EAAkB;;IAGlB,MAAIH,IAAI,CAACL,IAAT,EAAe;IACXS,IAAAA,QAAQ,CAACL,EAAD,CAAR;IACH;;IACD,MAAIC,IAAI,CAACK,QAAT,EAAmB;;IAGnB,MAAIL,IAAI,CAACM,KAAT,EAAgB;IAGnB;;IAGD,SAASF,QAAT,CAAkBL,EAAlB,EAAsB;IAClB;IACA,MAAIJ,IAAI,GAAGI,EAAE,CAACE,QAAH,CAAYN,IAAvB,CAFkB;;IAGlB;;;;;;IAKAA,EAAAA,IAAI,GAAGI,EAAE,CAACQ,KAAH,GAAW,OAAOZ,IAAP,KAAgB,UAAhB,GAA6BA,IAAI,CAACa,IAAL,CAAUT,EAAV,CAA7B,GAA6CJ,IAA/D;IAEA;;;;;;IAKAD,EAAAA,OAAO,CAACC,IAAD,CAAP,CAfkB;IAgBrB;;ICtCD;IAEO,SAASc,SAAT,CAAmBC,GAAnB,EAAwB;IAC9B;IACCA,EAAAA,GAAG,CAACC,SAAJ,CAAcC,KAAd,GAAsB,UAASC,OAAT,EAAkB;IACxC;IACA,QAAMd,EAAE,GAAG,IAAX;IACAA,IAAAA,EAAE,CAACE,QAAH,GAAcY,OAAd;IACAf,IAAAA,SAAS,CAACC,EAAD,CAAT;IACA,GALA;IAMD;;ICVD;;IAIA,SAASW,GAAT,CAAaG,OAAb,EAAsB;IAClB;IACA;IACA;IACA,OAAKD,KAAL,CAAWC,OAAX;IACH;;;IAEDJ,SAAS,CAACC,GAAD,CAAT;;;;;;;;"}